{% extends 'store/main.html' %}
{% load static %}

{% block content %}
    <div id="content-wrapper">
        <div class="column">
            <img id="featured" src="{{product.imageURL}}">

            <div id="slide-wrapper">
                <img id="slideLeft" class="arrow" src="{% static 'images/arrow-left.png' %}">

                <div id="slider">
                    {% for image in product.image_set.all%}
                    <img class="thumbnail" src="{{image.imageURL}}">
                    {% endfor %}
                </div>

                <img id="slideRight" class="arrow" src="{% static 'images/arrow-right.png' %}">
            </div>
        </div>

        <div class="column">
            <h1>{{product}}</h1>
            <hr>
            <h3>${{product.price}}</h3>

            <p>{{product.description}}</p>

            <button data-product={{product.id}} data-action="add" class="btn btn-outline-secondary add-btn update-cart">Add To Cart</button>

        </div>
    </div>



    <html>
        <head>
            <meta charset="UTF-8">
            <title>Comment</title>
            <link rel="stylesheet" href="css/style.css">
        </head>
        <body>
            <div class="container">
                <h2>Leave a review</h2>
                <form>
                    <textarea placeholder='Add Your Comment'></textarea>
                    <div class="btn">
                        <input type="submit" value='Comment'>
                        <button id='clear'>Cancel</button>
                    </div>
                </form>
            </div>

            <script src='plugin.js'></script>
        </body>
    </html>

    <script type="text/javascript">
            let thumbnails = document.getElementsByClassName('thumbnail')
            let activeImages = document.getElementsByClassName('active')
            for (var i=0; i < thumbnails.length; i++){
                thumbnails[i].addEventListener('mouseover', function(){

                    if (activeImages.length > 0){
                        activeImages[0].classList.remove('active')
                    }
                    this.classList.add('active')
                    document.getElementById('featured').src = this.src
                })


            }

            const buttonRight = document.getElementById('slideRight');
            const buttonLeft = document.getElementById('slideLeft');

            buttonRight.addEventListener('click', function(){
                document.getElementById('slider').scrollLeft += 180;
            })
            buttonLeft.addEventListener('click', function(){
            document.getElementById('slider').scrollLeft -= 180;
            })

    </script>
    <link rel="stylesheet" href="{% static 'css/pdp.css' %}">
    
{% endblock content %}